{
    "name": "Z-Score",
    "nodes": [
        {
            "id": "2",
            "position": {
                "x": 0,
                "y": 200
            },
            "data": {
                "label": "number"
            },
            "type": "key"
        },
        {
            "id": "3",
            "position": {
                "x": 200,
                "y": 200
            },
            "data": {
                "label": "normalize",
                "udf": "@ZScoreComponent.infer(\"number\")\ndef normalize(state, value):\n    if state[\"mean\"] is None:\n        return None\n    return abs(value - state[\"mean\"]) / state[\"std\"]\n"
            },
            "type": "infer"
        },
        {
            "id": "4",
            "position": {
                "x": 800,
                "y": 200
            },
            "data": {
                "label": "update",
                "udf": "@ZScoreComponent.fit(\"number\", batch_size=10)\ndef update(state, values, infer_results):\n    # We don't do anything with the results, but we could!\n    mean = sum(values) / len(values)\n    std = sum((n - mean) ** 2 for n in values) / len(values)\n    return {\"mean\": mean, \"std\": std}\n",
                "batch_size": 10
            },
            "type": "fit"
        },
        {
            "id": "1",
            "position": {
                "x": 700,
                "y": 0
            },
            "data": {
                "label": "state"
            },
            "type": "state"
        }
    ],
    "edges": [
        {
            "id": "e2-3",
            "source": "2",
            "target": "3",
            "targetHandle": "left"
        },
        {
            "id": "e1-3",
            "source": "1",
            "target": "3",
            "targetHandle": "top"
        },
        {
            "id": "e4-1",
            "target": "1",
            "source": "4",
            "sourceHandle": "top",
            "animated": true,
            "label": "batch_size: 10"
        },
        {
            "id": "e3-4",
            "source": "3",
            "sourceHandle": "right",
            "target": "4",
            "targetHandle": "left",
            "animated": true
        }
    ]
}